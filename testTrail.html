<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<title>Ubuntu in a Browser</title> 
 
 
<link type="text/css" rel="stylesheet" href="asset/css/common.css" /> 
<link type="text/css" rel="stylesheet" href="asset/css/ubuntu.css" /> 
<link type="text/css" rel="stylesheet" href="asset/css/menu.css" /> 
<link type="text/css" rel="stylesheet" href="asset/css/theme.css" /> 

 
<style type="text/css"> 
/* don't know what to do with this yet */
 
 
#draggable3 {left: 60px; top: 15px;}
</style> 
 
<style type="text/css"> 
 
</style> 
 
 
 <link type="text/css" href="asset/css/ui-lightness/jquery-ui-1.8.13.custom.css" rel="stylesheet" />	

		
        

<!--[if lte IE 8]>
<link rel="stylesheet" href="css/IE.css" />
<![endif]--> 
 
 
<script type="text/javascript"> 
var z = 100; //initialize z-index variable
</script> 
 
<!-- jQuery --> 
<script src="asset/js/jquery1.4.2min.js" type="text/javascript"></script> 
<script type="text/javascript" src="asset/js/jquery-ui-1.8.13.custom.min.js"></script>
 
<!-- main functionality --> 
<script src="asset/js/ubu.js" type="text/javascript"></script> 
<script src="asset/js/jquery.backstretch.min.js" type="text/javascript"></script> 
<!-- lytebox scripts --> 
<link rel="stylesheet" href="css/lytebox.css" /> 
<script type="text/javascript" src="js/lytebox.js"></script> 
 
<!-- menu scripts --> 
<script type="text/javascript" src="js/hoverIntent.js"></script> 
<script type="text/javascript" src="js/superfish.js"></script> 
 
<script type="text/javascript" src="asset/raptor/jquery.raptorize.1.0.js"></script>
<script>
function loader(which) {
	var type = which.attr("rel");
	var typeArr = type.split("-");
	console.log(typeArr);
	$("#ajax").load("pages/"+type+".html", function(){console.log("done"); trail(which)});

	var title = "My";	
	for(var i=0; i<typeArr.length; i++) {
		if(typeArr[i] == "home" && i==typeArr.length-1 ) {
			title = "Home";
		} else if(typeArr[i] == "corbincredible" && i==typeArr.length-1) {
			title = "Corbincredible";
		} else {
			title = "My "+ typeArr[2];
		}
	}
	
	$(".lookingGlass h3").html(title);

}

function trail(which) {
	var type = which.attr("rel");
	var typeArr = type.split("-");
	
	$("#te").html("<ul id='go'></ul>");
	for(var i=0; i<typeArr.length; i++) {
		var $li = $(document.createElement("li"));
		 
		 var rel = "";
		 for(var j=0; j<i; j++) {var insert= typeArr[j] + "-"; rel+=insert; }
		
		var id = "trail"+Math.random();
		$li.html('<a href="#" rel="' + rel + typeArr[i] + '">' + typeArr[i] + '</a>'); 
		$("#go").append($li);
		console.log($li.html());
	}

}
$(document).ready(function(){
	$(".treeMode li a").each(function(){ 
		$(this).click(function(){
			if($(this).hasClass("heirarch")) {
				$(".heirarch").each(function(){$(this).parent().removeClass("expanded");});
				$(this).parent().addClass("expanded");
			} else if($(this).parent().hasClass("subdirectory")){
				$(".treeMode li").each(function(){$(this).removeClass("subexpand")});
				$(this).parent().addClass("subexpand");
			} else {
				$(".treeMode li").each(function(){$(this).removeClass("subsubexpand")});
				$(this).parent().addClass("subsubexpand");
			}
			
			///$(this).find("ul").show();
			loader($(this));
			
		});
	});
	
	$('#te').delegate('a', 'click', function() { loader($(this)); });
	
loader($(".trail2"));
	

});
</script>
 <style>
 #te a {display:block; height:25px; float: left; width: 110px; text-align:left; background:#eee; line-height:25px; margin: 0px 4px;}
 .subLevelFile, .subsubLevelFile {display:none}
 .expanded .subLevelFile {display:block} 
 .expanded .subexpand .subsubLevelFile{display:block}
 
 #te li {display: block; float:left; list-style-type:none}
 </style>
</head> 
 
<body class="tundra theme"> 
 
<div class="lookingGlass"> 
<h3>Test</h3>

<div id="te" style="height: 25px; line-height:25px; border: 1px solid #444; margin: 10px; width: 600px;">

<a href="javascript:void(0)" rel="home" class="root">Home</a> 
<a href="javascript:void(0)" rel="home-corbincredible" class="user">Corbincredible</a>
<a href="javascript:void(0)" rel="home-corbincredible-pictures" class="trail1">Pictures</a>
<a href="javascript:void(0)" rel="home-corbincredible-pictures-b+w" class="trail2">B+W</a>
</div>
<div class="side">
<div class="treeMode">
    <ul class="jqueryFile">
        <li class="directory expanded"><a href="javascript:void(0)" rel="home-corbincredible-pictures" class="selected heirarch"><span></span>Pictures</a>
            <ul class="jqueryFileTree subLevelFile">
                <li class="subdirectory "><a href="javascript:void(0)" rel="home-corbincredible-pictures-b+w" class="selected"><span></span>B+W</a></li>
                <li class="subdirectory "><a href="javascript:void(0)" rel="home-corbincredible-pictures-nature"><span></span>Nature</a></li>
                <li class="subdirectory "><a href="javascript:void(0)" rel="home-corbincredible-pictures-man"><span></span>Manmade</a></li>
                <li class="subdirectory "><a href="javascript:void(0)" rel="home-corbincredible-pictures-mobile"><span></span>Mobile</a></li>
            </ul>
        </li>
        <li class="directory"><a href="javascript:void(0)" class="heirarch" rel="home-corbincredible-documents"><span></span>Documents</a>
        	 <ul class="jqueryFileTree subLevelFile">
                <li class="subdirectory "><a href="javascript:void(0)" rel="home-corbincredible-documents-work"><span></span>Work</a></li>
                <li class="subdirectory "><a href="javascript:void(0)" rel="home-corbincredible-documents-church"><span></span>Church</a></li>
                <li class="subdirectory "><a href="javascript:void(0)" rel="home-corbincredible-documents-funny"><span></span>Funny</a>
                	 <ul class="jqueryFileTree subsubLevelFile">
                        <li class="subsubdirectory "><a href="javascript:void(0)" rel="home-corbincredible-documents-funny-madlib"><span></span>Madlib</a></li>
                        <li class="subsubdirectory "><a href="javascript:void(0)" rel="home-corbincredible-documents-funny-stories"><span></span>Stories</a></li>
                    </ul>
                </li>
            </ul>
        </li>
        <li class="directory "><a href="javascript:void(0)" class="heirarch" rel="home-corbincredible-music"><span></span>Music</a></li>
        <li class="directory "><a href="javascript:void(0)" class="heirarch" rel="home-corbincredible-videos"><span></span>Video</a></li>
        <li class="directory "><a href="javascript:void(0)" class="heirarch" rel="home-corbincredible-projects"><span></span>Projects</a></li>

    </ul>
                            </div>
                            
                            <div id="ajax"></div>
</div>
</div>
</body>
</html>
